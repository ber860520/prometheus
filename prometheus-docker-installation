##Install Prometheus Monitoring Using Docker##

#1 Create directories to store Prometheus data and configuration files:
sudo mkdir -p /opt/prometheus/{conf,data}

#2 Change the ownership of the /opt/prometheus/data directory:
sudo chown 65534:65534 /opt/prometheus/data

#If you don’t change the ownership you may get the following error:
msg=”Opening storage failed” err=”open DB in /prometheus: open /prometheus/123456789: permission denied”

#3 Create a minimal Prometheus configuration file /opt/prometheus/conf/prometheus.yml:

# prometheus.yml
global:
    scrape_interval: 5s
scrape_configs:
    - job_name: 'prometheus'
      static_configs:
      - targets: ['localhost:9090']


#4 Start prometheus with the following instruction
docker run -d -v /opt/prometheus/conf/prometheus.yml:/etc/prometheus/prometheus.yml -v /opt/prometheus/data:/prometheus  --name prometheus_lab -p 9090:9090 prom/prometheus  --storage.tsdb.path=/prometheus --storage.tsdb.no-lockfile --web.enable-lifecycle --storage.tsdb.retention.time=5d --config.file=/etc/prometheus/prometheus.yml

#5 Download the nodeexporter and CAdvisor exporter
https://prometheus.io/docs/instrumenting/exporters/

#6 Create a new job and its static configs

#7 Search on how to create rules and update the configuration file

#8 Download and configure alertmanager

#9 Update the Prometheus conf to add the alertmanager instance to the configuration.
